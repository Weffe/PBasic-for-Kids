

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Whiskers &mdash; PBasic for Kids 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PBasic for Kids 1.0 documentation" href="index.html"/>
        <link rel="next" title="Infrared Sensors" href="infrared_sensor.html"/>
        <link rel="prev" title="Subroutines" href="subroutines.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PBasic for Kids
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">Comments in PBasic</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="printing.html">Printing output to the Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional_statements.html">Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="do_loops.html">Do Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_loops.html">FOR Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="movement.html">Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="subroutines.html">Subroutines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Whiskers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-outputting-values-when-pressed">Example: Outputting values when pressed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-utilizing-the-whiskers">Example: Utilizing the whiskers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="infrared_sensor.html">Infrared Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="competition_files.html">Competition Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PBasic for Kids</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Whiskers</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/whiskers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="whiskers">
<h1>Whiskers<a class="headerlink" href="#whiskers" title="Permalink to this headline">¶</a></h1>
<p>Whiskers are one of the components included in the robot kit. Whisker sensors allow
the robot to detect obstacles when it bumps into them.</p>
<img alt="_images/concept_whiskers.jpg" src="_images/concept_whiskers.jpg" />
<p>Whisker values are accessed via <strong>IN5</strong> and <strong>IN7</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">IN id</th>
<th class="head">Whisker</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IN5</td>
<td>Left Whisker</td>
</tr>
<tr class="row-odd"><td>IN7</td>
<td>Right Whisker</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="72%" />
<col width="28%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Whisker State</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Unpressed</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>Pressed</td>
<td>0</td>
</tr>
</tbody>
</table>
<div class="section" id="example-outputting-values-when-pressed">
<h2>Example: Outputting values when pressed<a class="headerlink" href="#example-outputting-values-when-pressed" title="Permalink to this headline">¶</a></h2>
<div class="highlight-basic"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="vg">left_whisker</span><span class="w">    </span><span class="vg">VAR</span><span class="w">     </span><span class="vg">Bit</span>
<span class="vg">right_whisker</span><span class="w">   </span><span class="vg">VAR</span><span class="w">     </span><span class="vg">Bit</span>

<span class="nl">Main:</span>
<span class="w">    </span><span class="kr">DO</span>
<span class="w">        </span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">IN5</span>
<span class="w">        </span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">IN7</span>

<span class="w">        </span><span class="kr">IF</span><span class="w"> </span><span class="p">(</span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="ow">AND</span><span class="w"> </span><span class="p">(</span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="vg">DEBUG</span><span class="w"> </span><span class="s2">&quot;Both Whiskers were pressed!&quot;</span>
<span class="w">        </span><span class="k">ELSEIF</span><span class="w"> </span><span class="p">(</span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="vg">DEBUG</span><span class="w"> </span><span class="s2">&quot;Left Whisker was pressed!&quot;</span>
<span class="w">        </span><span class="k">ELSEIF</span><span class="w"> </span><span class="p">(</span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="vg">DEBUG</span><span class="w"> </span><span class="s2">&quot;Right Whisker was pressed!&quot;</span>
<span class="w">        </span><span class="k">ELSE</span>
<span class="w">            </span><span class="vg">DEBUG</span><span class="w"> </span><span class="s2">&quot;No Whiskers are pressed...&quot;</span>
<span class="w">        </span><span class="k">ENDIF</span>
<span class="w">    </span><span class="kr">LOOP</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="example-utilizing-the-whiskers">
<h2>Example: Utilizing the whiskers<a class="headerlink" href="#example-utilizing-the-whiskers" title="Permalink to this headline">¶</a></h2>
<div class="highlight-basic"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="vg">left_whisker</span><span class="w">    </span><span class="vg">VAR</span><span class="w">     </span><span class="vg">Bit</span>
<span class="vg">right_whisker</span><span class="w">   </span><span class="vg">VAR</span><span class="w">     </span><span class="vg">Bit</span>
<span class="vg">pulse_count</span><span class="w">     </span><span class="vg">VAR</span><span class="w">     </span><span class="vg">Byte</span>

<span class="nl">Main:</span>
<span class="w">    </span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">IN5</span>
<span class="w">    </span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">IN7</span>

<span class="w">    </span><span class="kr">DO</span>
<span class="w">        </span><span class="kr">IF</span><span class="w"> </span><span class="p">(</span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="ow">AND</span><span class="w"> </span><span class="p">(</span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="c1">&#39; Left and Right whiskers are pressed so we back up and make a U-turn by default</span>
<span class="w">            </span><span class="c1">&#39; A U-turn is just 2 left turns</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Back_Up</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Spin_Turn_Left</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Spin_Turn_Left</span>
<span class="w">        </span><span class="k">ELSEIF</span><span class="w"> </span><span class="p">(</span><span class="vg">left_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Back_Up</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Spin_Turn_Right</span>
<span class="w">        </span><span class="k">ELSEIF</span><span class="w"> </span><span class="p">(</span><span class="vg">right_whisker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">)</span><span class="w"> </span><span class="kr">THEN</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Back_Up</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Spin_Turn_Left</span>
<span class="w">        </span><span class="k">ELSE</span>
<span class="w">            </span><span class="c1">&#39; here the whiskers are NOT in contact with a wall so we pulse forward</span>
<span class="w">            </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">Pulse_Forward</span>
<span class="w">        </span><span class="k">ENDIF</span>
<span class="w">    </span><span class="kr">LOOP</span>


<span class="nl">Pulse_Forward:</span>
<span class="w">    </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">13</span><span class="p">,</span><span class="il">850</span>
<span class="w">    </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">12</span><span class="p">,</span><span class="il">650</span>
<span class="kr">RETURN</span>

<span class="nl">Spin_Turn_Left:</span>
<span class="w">    </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">pulse_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">50</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">13</span><span class="p">,</span><span class="w"> </span><span class="il">650</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">12</span><span class="p">,</span><span class="w"> </span><span class="il">650</span>
<span class="w">    </span><span class="kr">NEXT</span>
<span class="kr">RETURN</span>

<span class="nl">Spin_Turn_Right:</span>
<span class="w">    </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">pulse_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">50</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">13</span><span class="p">,</span><span class="w"> </span><span class="il">850</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">12</span><span class="p">,</span><span class="w"> </span><span class="il">850</span>
<span class="w">    </span><span class="kr">NEXT</span>
<span class="kr">RETURN</span>

<span class="nl">Back_Up:</span>
<span class="w">    </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">pulse_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">50</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">13</span><span class="p">,</span><span class="w"> </span><span class="il">650</span>
<span class="w">        </span><span class="vg">PULSOUT</span><span class="w"> </span><span class="il">12</span><span class="p">,</span><span class="w"> </span><span class="il">850</span>
<span class="w">    </span><span class="kr">NEXT</span>
<span class="kr">RETURN</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>Whiskers are a good way to detect obstacles in front of the robot. However, whiskers
aren&#8217;t the best way to detect obstacles. There are some quirks of the whiskers bending
in weird ways and which makes them less reliable. In the next section we will cover
Infrared Sensors which offer much more in terms of depth perception and field
of view (fov).</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="infrared_sensor.html" class="btn btn-neutral float-right" title="Infrared Sensors" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="subroutines.html" class="btn btn-neutral" title="Subroutines" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rogelio Negrete.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>